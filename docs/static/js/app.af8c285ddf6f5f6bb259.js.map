{"version":3,"sources":["webpack:///src/components/ConnectionLink.vue","webpack:///./src/components/ConnectionLink.vue?f111","webpack:///./src/components/ConnectionLink.vue","webpack:///src/components/TextInput.vue","webpack:///./src/components/TextInput.vue?e022","webpack:///./src/components/TextInput.vue","webpack:///src/App.vue","webpack:///./src/skyway-key.js","webpack:///./src/App.vue?4614","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["ConnectionLink","QrcodeVue","String","localId","components_ConnectionLink","render","_h","this","$createElement","_c","_self","staticClass","_v","attrs","value","linkURL","size","level","className","href","target","domProps","textContent","_s","staticRenderFns","src_components_ConnectionLink","__webpack_require__","normalizeComponent","ssrContext","TextInput","Object","_this","connection","on","data","text","components_TextInput","xs","span","offset","sm","md","lg","xl","autocapitalize","autocomplete","input","updateText","TextInput_normalizeComponent","parseQuery","setupPeer","open","_iteratorNormalCompletion","_step","key","id","handleError","_this2","remoteId","type","arguments","length","undefined","message","_message","selectortype_template_index_0_src_App","dataConnection","_e","src_App","App_normalizeComponent","App","vue_esm","use","element_ui_common_default","a","locale","ja_default","config","productionTip","el","components","template"],"mappings":"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","file":"static/js/app.af8c285ddf6f5f6bb259.js","sourcesContent":["<template lang=\"pug\">\n  .connection-link\n    p スマホでQRコードをスキャンしてPCと接続します。\n    QrcodeVue(:value=\"linkURL\" size=\"200\" level=\"H\" className=\"qrcode\")\n    a.link-string(:href=\"linkURL\" v-text=\"linkURL\" target=\"_blank\")\n</template>\n\n<script>\nimport QrcodeVue from 'qrcode.vue'\n\nexport default {\n  name: 'ConnectionLink',\n  components: {\n    QrcodeVue\n  },\n  props: {\n    localId: {\n      type: String,\n      default: ''\n    }\n  },\n  computed: {\n    linkURL () {\n      return `${location.href}?q=${this.localId}`\n    }\n  }\n}\n</script>\n\n<style scoped>\n.qrcode {\n  margin-bottom: 10px;\n}\n.link-string {\n  font-size: .9em;\n  color: #009688;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ConnectionLink.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"connection-link\"},[_c('p',[_vm._v(\"スマホでQRコードをスキャンしてPCと接続します。\")]),_c('QrcodeVue',{attrs:{\"value\":_vm.linkURL,\"size\":\"200\",\"level\":\"H\",\"className\":\"qrcode\"}}),_c('a',{staticClass:\"link-string\",attrs:{\"href\":_vm.linkURL,\"target\":\"_blank\"},domProps:{\"textContent\":_vm._s(_vm.linkURL)}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ff2e18d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ConnectionLink.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ff2e18d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ConnectionLink.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ConnectionLink.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ConnectionLink.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ff2e18d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ConnectionLink.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1ff2e18d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ConnectionLink.vue\n// module id = null\n// module chunks = ","<template lang=\"pug\">\n  .text-input\n    p 以下のテキストボックスに入力した内容が接続先へリアルタイムに反映されます。\n    el-row\n      el-col(\n        :xs=\"{ span: 22, offset: 1 }\"\n        :sm=\"{ span: 20, offset: 2 }\"\n        :md=\"{ span: 20, offset: 2 }\"\n        :lg=\"{ span: 18, offset: 3 }\"\n        :xl=\"{ span: 16, offset: 4 }\"\n      )\n        textarea(\n          :value=\"text\"\n          @input=\"updateText\"\n          autocapitalize=\"none\"\n          autocomplete=\"off\"\n        )\n</template>\n\n<script>\nexport default {\n  name: 'TextInput',\n  props: {\n    connection: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      text: ''\n    }\n  },\n  created () {\n    this.connection\n      .on('data', data => {\n        this.text = data\n      })\n  },\n  methods: {\n    updateText (e) {\n      this.text = e.target.value\n      this.connection.send(this.text)\n    }\n  }\n}\n</script>\n\n<style scoped>\ntextarea {\n  font-family: 'Hiragino Kaku Gothic ProN', 'ヒラギノ角ゴ ProN W3', Meiryo, メイリオ, Osaka, 'MS PGothic', arial, helvetica, sans-serif;\n  width: 100%;\n  height: 200px;\n  resize: none;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TextInput.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-input\"},[_c('p',[_vm._v(\"以下のテキストボックスに入力した内容が接続先へリアルタイムに反映されます。\")]),_c('el-row',[_c('el-col',{attrs:{\"xs\":{ span: 22, offset: 1 },\"sm\":{ span: 20, offset: 2 },\"md\":{ span: 20, offset: 2 },\"lg\":{ span: 18, offset: 3 },\"xl\":{ span: 16, offset: 4 }}},[_c('textarea',{attrs:{\"autocapitalize\":\"none\",\"autocomplete\":\"off\"},domProps:{\"value\":_vm.text},on:{\"input\":_vm.updateText}})])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-316418c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TextInput.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-316418c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TextInput.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TextInput.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TextInput.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-316418c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TextInput.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-316418c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TextInput.vue\n// module id = null\n// module chunks = ","<template lang=\"pug\">\n  #app\n    h1 フリック入力ちゃん\n    p スマホのフリック入力でPCに文字入力できるサービスです。\n    ConnectionLink(v-if=\"shouldShowLink\" :localId=\"localId\")\n    TextInput(v-else-if=\"shouldShowTextarea\" :connection=\"dataConnection\")\n</template>\n\n<script>\nimport Peer from 'skyway-js'\nimport key from './skyway-key'\nimport ConnectionLink from './components/ConnectionLink'\nimport TextInput from './components/TextInput'\n\nexport default {\n  name: 'App',\n  components: {\n    ConnectionLink,\n    TextInput\n  },\n  created () {\n    this.parseQuery()\n    this.setupPeer()\n  },\n  data () {\n    return {\n      loading: null,\n      peer: null,\n      dataConnection: null,\n      localId: '',\n      remoteId: ''\n    }\n  },\n  computed: {\n    shouldShowLink () {\n      return this.localId && !this.remoteId && !(this.dataConnection && this.dataConnection.open)\n    },\n    shouldShowTextarea () {\n      return this.dataConnection && this.dataConnection.open\n    }\n  },\n  methods: {\n    parseQuery () {\n      // URLのクエリをパースして、remoteIdを取得\n      const pairs = location.search.substring(1).split('&')\n      for (const pair of pairs) {\n        const kv = pair.split('=')\n        if (kv[0] === 'q') {\n          this.remoteId = kv[1]\n        }\n      }\n    },\n    setupPeer () {\n      // Peerオブジェクトを生成\n      this.peer = new Peer({\n        key,\n        debug: 3\n      })\n        .on('open', id => {\n          this.localId = id\n          if (this.remoteId) {\n            // リモートIDが存在するなら接続を要求する\n            const connection = this.peer.connect(this.remoteId, {\n              label: 'textarea'\n            })\n            this.connect(connection)\n          }\n        })\n        .on('connection', connection => {\n          this.connect(connection)\n        })\n        .on('error', this.handleError)\n    },\n    connect (connection) {\n      this.dataConnection = connection\n      connection.on('open', () => {\n        connection\n          .on('close', () => this.warning(`${connection.remoteId}との接続が切断されました。`))\n          .on('error', this.handleError)\n      })\n    },\n    message (message, type = 'info') {\n      this.$message({\n        showClose: true,\n        message,\n        type\n      })\n    },\n    warning (message) {\n      this.message(message, 'warning')\n    },\n    handleError (error) {\n      this.message(error.message, 'error')\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Hiragino Kaku Gothic ProN', 'ヒラギノ角ゴ ProN W3', Meiryo, メイリオ, Osaka, 'MS PGothic', arial, helvetica, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 30px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","export default '9dd37309-9c0d-433c-86f0-54a02a5ca7ba'\n\n\n\n// WEBPACK FOOTER //\n// ./src/skyway-key.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('h1',[_vm._v(\"フリック入力ちゃん\")]),_c('p',[_vm._v(\"スマホのフリック入力でPCに文字入力できるサービスです。\")]),(_vm.shouldShowLink)?_c('ConnectionLink',{attrs:{\"localId\":_vm.localId}}):(_vm.shouldShowTextarea)?_c('TextInput',{attrs:{\"connection\":_vm.dataConnection}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3fac8554\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3fac8554\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3fac8554\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport locale from 'element-ui/lib/locale/lang/ja'\nimport App from './App'\n\nVue.use(ElementUI, {\n  size: 'small',\n  locale\n})\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}